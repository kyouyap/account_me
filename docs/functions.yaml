# メイン関数
main.run_scraping:
  path: src/main.py
  description: スクレイピングとスプレッドシート同期を実行する主要関数
  args: []
  returns: None
  raises:
    - MoneyForwardError: スクレイピング処理に失敗した場合
    - Exception: 予期せぬエラーが発生した場合

# スクレイパー関数
scraper.MoneyForwardScraper.scrape:
  path: src/scraper/scraper.py
  description: MoneyForwardからのデータスクレイピングを実行
  args: []
  returns: None
  raises:
    - MoneyForwardError: スクレイピングやダウンロードに失敗した場合

scraper.MoneyForwardScraper._check_env_variables:
  path: src/scraper/scraper.py
  description: 必要な環境変数が設定されているか確認
  args: []
  returns: None
  raises:
    - MoneyForwardError: 必要な環境変数が設定されていない場合

scraper.MoneyForwardScraper._aggregate_csv_files:
  path: src/scraper/scraper.py
  description: CSVファイルを集約して一つのファイルにまとめる
  args:
    - output_path: Path - 出力ファイルのパス
  returns: None
  raises:
    - MoneyForwardError: CSVファイルの集約に失敗した場合

# ブラウザ関連関数
browser.BrowserManager.setup_driver:
  path: src/scraper/browser.py
  description: ChromeDriverを設定し初期化
  args: []
  returns: None
  raises:
    - ScrapingError: WebDriverの初期化に失敗した場合

browser.BrowserManager.login:
  path: src/scraper/browser.py
  description: MoneyForwardにログイン（2段階認証対応）
  args:
    - email: str - ログイン用メールアドレス
    - password: str - ログインパスワード
  returns: None
  raises:
    - AuthenticationError: ログイン処理に失敗した場合
    - ScrapingError: ブラウザ操作に失敗した場合

browser.BrowserManager.get_links_for_download:
  path: src/scraper/browser.py
  description: ページからダウンロードリンクを抽出
  args:
    - page_url: str - ダウンロードリンクを抽出するページのURL
  returns: List[str] - 抽出されたダウンロードリンクのリスト
  raises:
    - ScrapingError: リンクの抽出に失敗した場合

# ダウンローダー関数
downloader.FileDownloader.download_from_links:
  path: src/scraper/downloader.py
  description: 複数のリンクからファイルをダウンロード
  args:
    - driver: WebDriver - Seleniumのブラウザインスタンス
    - links: List[str] - ダウンロードするURLリスト
    - base_name: str - 出力ファイルのベース名（オプション）
  returns: List[Path] - ダウンロードしたファイルのパスリスト
  raises:
    - DownloadError: ダウンロードに失敗した場合

# Gmail関連関数
gmail_client.GmailClient.get_verification_code:
  path: src/scraper/gmail_client.py
  description: MoneyForwardの2段階認証コードを取得
  args: []
  returns: str - 6桁の認証コード
  raises:
    - VerificationCodeError: 認証コードの取得に失敗した場合
    - GmailApiError: Gmail APIとの通信に失敗した場合

gmail_client.GmailClient._create_gmail_service:
  path: src/scraper/gmail_client.py
  description: Gmail APIサービスを作成し認証を行う
  args: []
  returns: Resource - Gmail APIサービスインスタンス
  raises:
    - GmailApiError: サービスの作成や認証に失敗した場合

# 設定関連関数
secrets.get_secrets:
  path: src/config/secrets.py
  description: Secret Managerから必要な環境変数を設定
  args: []
  returns: None
  raises:
    - ConfigurationError: シークレットの取得に失敗した場合

secrets.update_secret:
  path: src/config/secrets.py
  description: Secret Managerのシークレットを更新
  args:
    - secret_name: str - 更新するシークレット名
    - secret_value: str - 新しい値
  returns: None
  raises:
    - ConfigurationError: シークレットの更新に失敗した場合

# ロギング設定関数
logging_config.setup_logging:
  path: src/config/logging_config.py
  description: アプリケーションのロギング設定を初期化
  args: []
  returns: None
  raises:
    - OSError: ログディレクトリの作成に失敗した場合
    - yaml.YAMLError: YAML設定ファイルの解析に失敗した場合
